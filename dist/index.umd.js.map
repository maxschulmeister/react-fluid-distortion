{"version":3,"file":"index.umd.js","sources":["../node_modules/react/cjs/react-jsx-runtime.production.js","../node_modules/react/cjs/react-jsx-runtime.development.js","../node_modules/react/jsx-runtime.js","../lib/constant.ts","../lib/utils.ts","../lib/glsl/composite.frag","../lib/effect/FluidEffect.tsx","../lib/effect/Fluid.tsx","../lib/hooks/useDoubleFBO.tsx","../lib/hooks/useFBOs.tsx","../lib/glsl/base.vert","../lib/glsl/clear.frag","../lib/glsl/curl.frag","../lib/glsl/divergence.frag","../lib/glsl/gradientSubstract.frag","../lib/glsl/pressure.frag","../lib/glsl/splat.frag","../lib/glsl/advection.frag","../lib/glsl/vorticity.frag","../lib/hooks/useMaterials.tsx","../lib/hooks/usePointer.tsx","../lib/Fluid.tsx","../lib/hooks/useConfig.tsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n  REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\");\nfunction jsxProd(type, config, maybeKey) {\n  var key = null;\n  void 0 !== maybeKey && (key = \"\" + maybeKey);\n  void 0 !== config.key && (key = \"\" + config.key);\n  if (\"key\" in config) {\n    maybeKey = {};\n    for (var propName in config)\n      \"key\" !== propName && (maybeKey[propName] = config[propName]);\n  } else maybeKey = config;\n  config = maybeKey.ref;\n  return {\n    $$typeof: REACT_ELEMENT_TYPE,\n    type: type,\n    key: key,\n    ref: void 0 !== config ? config : null,\n    props: maybeKey\n  };\n}\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsxProd;\nexports.jsxs = jsxProd;\n","/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function getComponentNameFromType(type) {\n      if (null == type) return null;\n      if (\"function\" === typeof type)\n        return type.$$typeof === REACT_CLIENT_REFERENCE\n          ? null\n          : type.displayName || type.name || null;\n      if (\"string\" === typeof type) return type;\n      switch (type) {\n        case REACT_FRAGMENT_TYPE:\n          return \"Fragment\";\n        case REACT_PROFILER_TYPE:\n          return \"Profiler\";\n        case REACT_STRICT_MODE_TYPE:\n          return \"StrictMode\";\n        case REACT_SUSPENSE_TYPE:\n          return \"Suspense\";\n        case REACT_SUSPENSE_LIST_TYPE:\n          return \"SuspenseList\";\n        case REACT_ACTIVITY_TYPE:\n          return \"Activity\";\n      }\n      if (\"object\" === typeof type)\n        switch (\n          (\"number\" === typeof type.tag &&\n            console.error(\n              \"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"\n            ),\n          type.$$typeof)\n        ) {\n          case REACT_PORTAL_TYPE:\n            return \"Portal\";\n          case REACT_CONTEXT_TYPE:\n            return (type.displayName || \"Context\") + \".Provider\";\n          case REACT_CONSUMER_TYPE:\n            return (type._context.displayName || \"Context\") + \".Consumer\";\n          case REACT_FORWARD_REF_TYPE:\n            var innerType = type.render;\n            type = type.displayName;\n            type ||\n              ((type = innerType.displayName || innerType.name || \"\"),\n              (type = \"\" !== type ? \"ForwardRef(\" + type + \")\" : \"ForwardRef\"));\n            return type;\n          case REACT_MEMO_TYPE:\n            return (\n              (innerType = type.displayName || null),\n              null !== innerType\n                ? innerType\n                : getComponentNameFromType(type.type) || \"Memo\"\n            );\n          case REACT_LAZY_TYPE:\n            innerType = type._payload;\n            type = type._init;\n            try {\n              return getComponentNameFromType(type(innerType));\n            } catch (x) {}\n        }\n      return null;\n    }\n    function testStringCoercion(value) {\n      return \"\" + value;\n    }\n    function checkKeyStringCoercion(value) {\n      try {\n        testStringCoercion(value);\n        var JSCompiler_inline_result = !1;\n      } catch (e) {\n        JSCompiler_inline_result = !0;\n      }\n      if (JSCompiler_inline_result) {\n        JSCompiler_inline_result = console;\n        var JSCompiler_temp_const = JSCompiler_inline_result.error;\n        var JSCompiler_inline_result$jscomp$0 =\n          (\"function\" === typeof Symbol &&\n            Symbol.toStringTag &&\n            value[Symbol.toStringTag]) ||\n          value.constructor.name ||\n          \"Object\";\n        JSCompiler_temp_const.call(\n          JSCompiler_inline_result,\n          \"The provided key is an unsupported type %s. This value must be coerced to a string before using it here.\",\n          JSCompiler_inline_result$jscomp$0\n        );\n        return testStringCoercion(value);\n      }\n    }\n    function getTaskName(type) {\n      if (type === REACT_FRAGMENT_TYPE) return \"<>\";\n      if (\n        \"object\" === typeof type &&\n        null !== type &&\n        type.$$typeof === REACT_LAZY_TYPE\n      )\n        return \"<...>\";\n      try {\n        var name = getComponentNameFromType(type);\n        return name ? \"<\" + name + \">\" : \"<...>\";\n      } catch (x) {\n        return \"<...>\";\n      }\n    }\n    function getOwner() {\n      var dispatcher = ReactSharedInternals.A;\n      return null === dispatcher ? null : dispatcher.getOwner();\n    }\n    function UnknownOwner() {\n      return Error(\"react-stack-top-frame\");\n    }\n    function hasValidKey(config) {\n      if (hasOwnProperty.call(config, \"key\")) {\n        var getter = Object.getOwnPropertyDescriptor(config, \"key\").get;\n        if (getter && getter.isReactWarning) return !1;\n      }\n      return void 0 !== config.key;\n    }\n    function defineKeyPropWarningGetter(props, displayName) {\n      function warnAboutAccessingKey() {\n        specialPropKeyWarningShown ||\n          ((specialPropKeyWarningShown = !0),\n          console.error(\n            \"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://react.dev/link/special-props)\",\n            displayName\n          ));\n      }\n      warnAboutAccessingKey.isReactWarning = !0;\n      Object.defineProperty(props, \"key\", {\n        get: warnAboutAccessingKey,\n        configurable: !0\n      });\n    }\n    function elementRefGetterWithDeprecationWarning() {\n      var componentName = getComponentNameFromType(this.type);\n      didWarnAboutElementRef[componentName] ||\n        ((didWarnAboutElementRef[componentName] = !0),\n        console.error(\n          \"Accessing element.ref was removed in React 19. ref is now a regular prop. It will be removed from the JSX Element type in a future release.\"\n        ));\n      componentName = this.props.ref;\n      return void 0 !== componentName ? componentName : null;\n    }\n    function ReactElement(\n      type,\n      key,\n      self,\n      source,\n      owner,\n      props,\n      debugStack,\n      debugTask\n    ) {\n      self = props.ref;\n      type = {\n        $$typeof: REACT_ELEMENT_TYPE,\n        type: type,\n        key: key,\n        props: props,\n        _owner: owner\n      };\n      null !== (void 0 !== self ? self : null)\n        ? Object.defineProperty(type, \"ref\", {\n            enumerable: !1,\n            get: elementRefGetterWithDeprecationWarning\n          })\n        : Object.defineProperty(type, \"ref\", { enumerable: !1, value: null });\n      type._store = {};\n      Object.defineProperty(type._store, \"validated\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: 0\n      });\n      Object.defineProperty(type, \"_debugInfo\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: null\n      });\n      Object.defineProperty(type, \"_debugStack\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugStack\n      });\n      Object.defineProperty(type, \"_debugTask\", {\n        configurable: !1,\n        enumerable: !1,\n        writable: !0,\n        value: debugTask\n      });\n      Object.freeze && (Object.freeze(type.props), Object.freeze(type));\n      return type;\n    }\n    function jsxDEVImpl(\n      type,\n      config,\n      maybeKey,\n      isStaticChildren,\n      source,\n      self,\n      debugStack,\n      debugTask\n    ) {\n      var children = config.children;\n      if (void 0 !== children)\n        if (isStaticChildren)\n          if (isArrayImpl(children)) {\n            for (\n              isStaticChildren = 0;\n              isStaticChildren < children.length;\n              isStaticChildren++\n            )\n              validateChildKeys(children[isStaticChildren]);\n            Object.freeze && Object.freeze(children);\n          } else\n            console.error(\n              \"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\"\n            );\n        else validateChildKeys(children);\n      if (hasOwnProperty.call(config, \"key\")) {\n        children = getComponentNameFromType(type);\n        var keys = Object.keys(config).filter(function (k) {\n          return \"key\" !== k;\n        });\n        isStaticChildren =\n          0 < keys.length\n            ? \"{key: someKey, \" + keys.join(\": ..., \") + \": ...}\"\n            : \"{key: someKey}\";\n        didWarnAboutKeySpread[children + isStaticChildren] ||\n          ((keys =\n            0 < keys.length ? \"{\" + keys.join(\": ..., \") + \": ...}\" : \"{}\"),\n          console.error(\n            'A props object containing a \"key\" prop is being spread into JSX:\\n  let props = %s;\\n  <%s {...props} />\\nReact keys must be passed directly to JSX without using spread:\\n  let props = %s;\\n  <%s key={someKey} {...props} />',\n            isStaticChildren,\n            children,\n            keys,\n            children\n          ),\n          (didWarnAboutKeySpread[children + isStaticChildren] = !0));\n      }\n      children = null;\n      void 0 !== maybeKey &&\n        (checkKeyStringCoercion(maybeKey), (children = \"\" + maybeKey));\n      hasValidKey(config) &&\n        (checkKeyStringCoercion(config.key), (children = \"\" + config.key));\n      if (\"key\" in config) {\n        maybeKey = {};\n        for (var propName in config)\n          \"key\" !== propName && (maybeKey[propName] = config[propName]);\n      } else maybeKey = config;\n      children &&\n        defineKeyPropWarningGetter(\n          maybeKey,\n          \"function\" === typeof type\n            ? type.displayName || type.name || \"Unknown\"\n            : type\n        );\n      return ReactElement(\n        type,\n        children,\n        self,\n        source,\n        getOwner(),\n        maybeKey,\n        debugStack,\n        debugTask\n      );\n    }\n    function validateChildKeys(node) {\n      \"object\" === typeof node &&\n        null !== node &&\n        node.$$typeof === REACT_ELEMENT_TYPE &&\n        node._store &&\n        (node._store.validated = 1);\n    }\n    var React = require(\"react\"),\n      REACT_ELEMENT_TYPE = Symbol.for(\"react.transitional.element\"),\n      REACT_PORTAL_TYPE = Symbol.for(\"react.portal\"),\n      REACT_FRAGMENT_TYPE = Symbol.for(\"react.fragment\"),\n      REACT_STRICT_MODE_TYPE = Symbol.for(\"react.strict_mode\"),\n      REACT_PROFILER_TYPE = Symbol.for(\"react.profiler\");\n    Symbol.for(\"react.provider\");\n    var REACT_CONSUMER_TYPE = Symbol.for(\"react.consumer\"),\n      REACT_CONTEXT_TYPE = Symbol.for(\"react.context\"),\n      REACT_FORWARD_REF_TYPE = Symbol.for(\"react.forward_ref\"),\n      REACT_SUSPENSE_TYPE = Symbol.for(\"react.suspense\"),\n      REACT_SUSPENSE_LIST_TYPE = Symbol.for(\"react.suspense_list\"),\n      REACT_MEMO_TYPE = Symbol.for(\"react.memo\"),\n      REACT_LAZY_TYPE = Symbol.for(\"react.lazy\"),\n      REACT_ACTIVITY_TYPE = Symbol.for(\"react.activity\"),\n      REACT_CLIENT_REFERENCE = Symbol.for(\"react.client.reference\"),\n      ReactSharedInternals =\n        React.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,\n      hasOwnProperty = Object.prototype.hasOwnProperty,\n      isArrayImpl = Array.isArray,\n      createTask = console.createTask\n        ? console.createTask\n        : function () {\n            return null;\n          };\n    React = {\n      \"react-stack-bottom-frame\": function (callStackForError) {\n        return callStackForError();\n      }\n    };\n    var specialPropKeyWarningShown;\n    var didWarnAboutElementRef = {};\n    var unknownOwnerDebugStack = React[\"react-stack-bottom-frame\"].bind(\n      React,\n      UnknownOwner\n    )();\n    var unknownOwnerDebugTask = createTask(getTaskName(UnknownOwner));\n    var didWarnAboutKeySpread = {};\n    exports.Fragment = REACT_FRAGMENT_TYPE;\n    exports.jsx = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !1,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n    exports.jsxs = function (type, config, maybeKey, source, self) {\n      var trackActualOwner =\n        1e4 > ReactSharedInternals.recentlyCreatedOwnerStacks++;\n      return jsxDEVImpl(\n        type,\n        config,\n        maybeKey,\n        !0,\n        source,\n        self,\n        trackActualOwner\n          ? Error(\"react-stack-top-frame\")\n          : unknownOwnerDebugStack,\n        trackActualOwner ? createTask(getTaskName(type)) : unknownOwnerDebugTask\n      );\n    };\n  })();\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","export const OPTS = {\n    blend: 5,\n    intensity: 2,\n    force: 1.1,\n    distortion: 0.4,\n    curl: 1.9,\n    radius: 0.3,\n    swirl: 4,\n    pressure: 0.8,\n    densityDissipation: 0.96,\n    velocityDissipation: 1.0,\n    fluidColor: '#3300ff',\n    backgroundColor: '#070410',\n    showBackground: true,\n    rainbow: false,\n    dyeRes: 512,\n    simRes: 128,\n    refreshRate: 60,\n} as const;\n","import { Color, Vector3 } from 'three';\nimport { OPTS } from './constant';\n\nexport const hexToRgb = (hex: string) => {\n    const color = new Color(hex);\n\n    return new Vector3(color.r, color.g, color.b);\n};\n\nexport const normalizeScreenHz = (value: number, dt: number) => {\n    return Math.pow(value, dt * OPTS.refreshRate);\n};\n","uniform sampler2D tFluid;\n\nuniform vec3 uColor;\nuniform vec3 uBackgroundColor;\n\nuniform float uDistort;\nuniform float uIntensity;\nuniform float uRainbow;\nuniform float uBlend;\nuniform float uShowBackground;\n\nvoid mainImage(const in vec4 inputColor, const in vec2 uv, out vec4 outputColor) {\n\n    vec3 fluidColor = texture2D(tFluid, uv).rgb;\n\n    vec2 distortedUv = uv - fluidColor.rg * uDistort * 0.001;\n\n    vec4 texture = texture2D(inputBuffer, distortedUv);\n\n    float intensity = length(fluidColor) * uIntensity * 0.0001;\n\n    vec3 selectedColor = uColor * length(fluidColor);\n\n    vec4 colorForFluidEffect = vec4(uRainbow == 1.0 ? fluidColor : selectedColor, 1.0);\n\n    vec4 computedBgColor = vec4(uBackgroundColor, 1.);\n\n    outputColor = mix(texture, colorForFluidEffect, intensity);\n\n    vec4 computedFluidColor = mix(texture, colorForFluidEffect, uBlend * 0.01);\n\n    vec4 finalColor;\n\n    if(texture.a < 0.1) {\n        finalColor = mix(computedBgColor, colorForFluidEffect, intensity);\n    } else {\n        finalColor = mix(computedFluidColor, computedBgColor, 1.0 - texture.a);\n    }\n\n    outputColor = finalColor;\n}\n","import { Effect } from 'postprocessing';\nimport { Texture, Uniform, Vector3 } from 'three';\nimport { EffectProps } from '../types';\nimport { hexToRgb } from '../utils';\nimport compositeFrag from '../glsl/composite.frag';\n\ntype Uniforms = {\n    tFluid: Texture | null;\n    uColor: Vector3;\n    uBackgroundColor: Vector3;\n    uRainbow: boolean;\n    uShowBackground: boolean;\n    uDistort: number;\n    uBlend: number;\n    uIntensity: number;\n};\n\nexport class FluidEffect extends Effect {\n    state: Partial<EffectProps>;\n\n    constructor(props: EffectProps = {}) {\n        const uniforms: Record<keyof Uniforms, Uniform> = {\n            tFluid: new Uniform(props.tFluid),\n            uDistort: new Uniform(props.distortion),\n            uRainbow: new Uniform(props.rainbow),\n            uIntensity: new Uniform(props.intensity),\n            uBlend: new Uniform(props.blend),\n            uShowBackground: new Uniform(props.showBackground),\n\n            uColor: new Uniform(hexToRgb(props.fluidColor!)),\n            uBackgroundColor: new Uniform(hexToRgb(props.backgroundColor!)),\n        };\n\n        super('FluidEffect', compositeFrag, {\n            blendFunction: props.blendFunction,\n            uniforms: new Map(Object.entries(uniforms)),\n        });\n\n        this.state = {\n            ...props,\n        };\n    }\n\n    private updateUniform<K extends keyof Uniforms>(key: K, value: Uniforms[K]) {\n        const uniform = this.uniforms.get(key);\n        if (uniform) {\n            uniform.value = value;\n        }\n    }\n\n    update() {\n        this.updateUniform('uIntensity', this.state.intensity!);\n        this.updateUniform('uDistort', this.state.distortion!);\n        this.updateUniform('uRainbow', this.state.rainbow!);\n        this.updateUniform('uBlend', this.state.blend!);\n        this.updateUniform('uShowBackground', this.state.showBackground!);\n        this.updateUniform('uColor', hexToRgb(this.state.fluidColor!));\n        this.updateUniform('uBackgroundColor', hexToRgb(this.state.backgroundColor!));\n    }\n}\n","import { forwardRef, useEffect, useMemo } from 'react';\nimport { EffectProps } from '../types';\nimport { FluidEffect } from './FluidEffect';\n\nexport const Effect = forwardRef(function Fluid(props: EffectProps, ref) {\n    // prevent re-creating the effect on every render\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const effect = useMemo(() => new FluidEffect(props), []);\n\n    useEffect(() => {\n        effect.state = { ...props };\n        effect.update();\n    }, [effect, props]);\n\n    useEffect(() => {\n        return () => {\n            effect.dispose?.();\n        };\n    }, [effect]);\n\n    return <primitive ref={ref} object={effect} dispose={null} />;\n});\n","import * as THREE from 'three'\nimport { useFBO } from '@react-three/drei'\nimport { useRef } from 'react'\n\ntype FBO = {\n    read: THREE.WebGLRenderTarget\n    write: THREE.WebGLRenderTarget\n    swap: () => void\n    dispose: () => void\n}\n\ntype Options = {\n    minFilter?: THREE.TextureFilter\n    format?: THREE.PixelFormat\n    type?: THREE.TextureDataType\n    depth: boolean\n}\n\nexport const useDoubleFBO = (width: number, height: number, options: Options) => {\n    const read = useFBO(width, height, options)\n\n    const write = useFBO(width, height, options)\n\n    const fbo = useRef<FBO>({\n        read,\n        write,\n        swap: () => {\n            const temp = fbo.read\n            fbo.read = fbo.write\n            fbo.write = temp\n        },\n        dispose: () => {\n            read.dispose()\n            write.dispose()\n        },\n    }).current\n\n    return fbo\n}\n","import * as THREE from 'three';\n\nimport { useFBO } from '@react-three/drei';\nimport { useEffect, useMemo } from 'react';\nimport { useDoubleFBO } from '../hooks/useDoubleFBO';\nimport { OPTS } from '../constant';\n\nexport const useFBOs = () => {\n    const density = useDoubleFBO(OPTS.dyeRes, OPTS.dyeRes, {\n        type: THREE.HalfFloatType,\n        format: THREE.RGBAFormat,\n        minFilter: THREE.LinearFilter,\n        depth: false,\n    });\n\n    const velocity = useDoubleFBO(OPTS.simRes, OPTS.simRes, {\n        type: THREE.HalfFloatType,\n        format: THREE.RGFormat,\n        minFilter: THREE.LinearFilter,\n        depth: false,\n    });\n\n    const pressure = useDoubleFBO(OPTS.simRes, OPTS.simRes, {\n        type: THREE.HalfFloatType,\n        format: THREE.RedFormat,\n        minFilter: THREE.NearestFilter,\n        depth: false,\n    });\n\n    const divergence = useFBO(OPTS.simRes, OPTS.simRes, {\n        type: THREE.HalfFloatType,\n        format: THREE.RedFormat,\n        minFilter: THREE.NearestFilter,\n        depth: false,\n    });\n\n    const curl = useFBO(OPTS.simRes, OPTS.simRes, {\n        type: THREE.HalfFloatType,\n        format: THREE.RedFormat,\n        minFilter: THREE.NearestFilter,\n        depth: false,\n    });\n\n    const FBOs = useMemo(() => {\n        return {\n            density,\n            velocity,\n            pressure,\n            divergence,\n            curl,\n        };\n    }, [curl, density, divergence, pressure, velocity]);\n\n    useEffect(() => {\n        return () => {\n            for (const FBO of Object.values(FBOs)) {\n                FBO.dispose();\n            }\n        };\n    }, [FBOs]);\n\n    return FBOs;\n};\n","varying vec2 vUv;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\nuniform vec2 texelSize;\n\nvoid main() {\n  vUv = uv;\n\n  vL = vUv - vec2(texelSize.x, 0.0);\n\n  vR = vUv + vec2(texelSize.x, 0.0);\n\n  vT = vUv + vec2(0.0, texelSize.y);\n\n  vB = vUv - vec2(0.0, texelSize.y);\n\n  gl_Position = vec4(position, 1.0);\n}\n","precision highp float;\n\nvarying vec2 vUv;\nuniform sampler2D uTexture;\nuniform float uClearValue;\n\nvoid main() { gl_FragColor = uClearValue * texture2D(uTexture, vUv); }\n","precision highp float;\n\nvarying vec2 vUv;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\n\nuniform sampler2D uVelocity;\n\nvoid main() {\n    float L = texture2D(uVelocity, vL).y;\n\n    float R = texture2D(uVelocity, vR).y;\n\n    float T = texture2D(uVelocity, vT).x;\n\n    float B = texture2D(uVelocity, vB).x;\n\n    float vorticity = R - L - T + B;\n\n    gl_FragColor = vec4(vorticity, 0.0, 0.0, 1.0);\n}","precision highp float;\n\nvarying highp vec2 vUv;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\n\nuniform sampler2D uVelocity;\n\nvoid main() {\n    float L = texture2D(uVelocity, vL).x;\n\n    float R = texture2D(uVelocity, vR).x;\n\n    float T = texture2D(uVelocity, vT).y;\n\n    float B = texture2D(uVelocity, vB).y;\n\n    vec2 C = texture2D(uVelocity, vUv).xy;\n\n    if(vL.x < 0.0) {\n        L = -C.x;\n    }\n\n    if(vR.x > 1.0) {\n        R = -C.x;\n    }\n\n    if(vT.y > 1.0) {\n        T = -C.y;\n    }\n\n    if(vB.y < 0.0) {\n        B = -C.y;\n    }\n\n    float div = 0.5 * (R - L + T - B);\n\n    gl_FragColor = vec4(div, 0.0, 0.0, 1.0);\n}","precision highp float;\n\nvarying highp vec2 vUv;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\n\nuniform sampler2D uPressure;\nuniform sampler2D uVelocity;\n\nvoid main() {\n    float L = texture2D(uPressure, vL).x;\n\n    float R = texture2D(uPressure, vR).x;\n\n    float T = texture2D(uPressure, vT).x;\n\n    float B = texture2D(uPressure, vB).x;\n\n    vec2 velocity = texture2D(uVelocity, vUv).xy;\n\n    velocity.xy -= vec2(R - L, T - B);\n\n    gl_FragColor = vec4(velocity, 0.0, 1.0);\n}","precision highp float;\n\nvarying highp vec2 vUv;\nvarying highp vec2 vL;\nvarying highp vec2 vR;\nvarying highp vec2 vT;\nvarying highp vec2 vB;\n\nuniform sampler2D uPressure;\nuniform sampler2D uDivergence;\n\nvoid main() {\n    float L = texture2D(uPressure, vL).x;\n\n    float R = texture2D(uPressure, vR).x;\n\n    float T = texture2D(uPressure, vT).x;\n\n    float B = texture2D(uPressure, vB).x;\n\n    float C = texture2D(uPressure, vUv).x;\n\n    float divergence = texture2D(uDivergence, vUv).x;\n\n    float pressure = (L + R + B + T - divergence) * 0.25;\n\n    gl_FragColor = vec4(pressure, 0.0, 0.0, 1.0);\n}\n","varying vec2 vUv;\n\nuniform sampler2D uTarget;\nuniform float aspectRatio;\nuniform vec3 uColor;\nuniform vec2 uPointer;\nuniform float uRadius;\n\nvoid main() {\n    vec2 p = vUv - uPointer.xy;\n\n    p.x *= aspectRatio;\n\n    vec3 splat = exp(-dot(p, p) / uRadius) * uColor;\n\n    vec3 base = texture2D(uTarget, vUv).xyz;\n\n    gl_FragColor = vec4(base + splat, 1.0);\n}\n","precision highp float;\n\nvarying vec2 vUv;\nuniform sampler2D uVelocity;\nuniform sampler2D uSource;\nuniform vec2 texelSize;\nuniform float dt;\nuniform float uDissipation;\n\nvoid main() {\n    vec2 coord = vUv - dt * texture2D(uVelocity, vUv).xy * texelSize;\n\n    gl_FragColor = uDissipation * texture2D(uSource, coord);\n\n    gl_FragColor.a = 1.0;\n}","precision highp float;\n\nvarying vec2 vUv;\nvarying vec2 vL;\nvarying vec2 vR;\nvarying vec2 vT;\nvarying vec2 vB;\n\nuniform sampler2D uVelocity;\nuniform sampler2D uCurl;\nuniform float uCurlValue;\nuniform float dt;\n\nvoid main() {\n    float L = texture2D(uCurl, vL).x;\n\n    float R = texture2D(uCurl, vR).x;\n\n    float T = texture2D(uCurl, vT).x;\n\n    float B = texture2D(uCurl, vB).x;\n\n    float C = texture2D(uCurl, vUv).x;\n\n    vec2 force = vec2(abs(T) - abs(B), abs(R) - abs(L)) * 0.5;\n\n    force /= length(force) + 1.;\n\n    force *= uCurlValue * C;\n\n    force.y *= -1.;\n\n    vec2 vel = texture2D(uVelocity, vUv).xy;\n\n    gl_FragColor = vec4(vel + force * dt, 0.0, 1.0);\n}","import { ShaderMaterial, Texture, Vector2, Vector3 } from 'three';\nimport { useEffect, useMemo } from 'react';\nimport { useThree } from '@react-three/fiber';\nimport { OPTS } from '../constant';\n\nimport baseVertex from '../glsl/base.vert';\nimport clearFrag from '../glsl/clear.frag';\nimport curlFrag from '../glsl/curl.frag';\nimport divergenceFrag from '../glsl/divergence.frag';\nimport gradientSubstractFrag from '../glsl/gradientSubstract.frag';\nimport pressureFrag from '../glsl/pressure.frag';\nimport splatFrag from '../glsl/splat.frag';\nimport advectionFrag from '../glsl/advection.frag';\nimport vorticityFrag from '../glsl/vorticity.frag';\n\nexport const useMaterials = (): { [key: string]: ShaderMaterial } => {\n    const size = useThree((s) => s.size);\n\n    const shaderMaterials = useMemo(() => {\n        const advection = new ShaderMaterial({\n            uniforms: {\n                uVelocity: {\n                    value: new Texture(),\n                },\n                uSource: {\n                    value: new Texture(),\n                },\n                dt: {\n                    value: 1 / OPTS.refreshRate,\n                },\n                uDissipation: {\n                    value: 1.0,\n                },\n                texelSize: { value: new Vector2() },\n            },\n            fragmentShader: advectionFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const clear = new ShaderMaterial({\n            uniforms: {\n                uTexture: {\n                    value: new Texture(),\n                },\n                uClearValue: {\n                    value: OPTS.pressure,\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: clearFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const curl = new ShaderMaterial({\n            uniforms: {\n                uVelocity: {\n                    value: new Texture(),\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: curlFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const divergence = new ShaderMaterial({\n            uniforms: {\n                uVelocity: {\n                    value: new Texture(),\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: divergenceFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const gradientSubstract = new ShaderMaterial({\n            uniforms: {\n                uPressure: {\n                    value: new Texture(),\n                },\n                uVelocity: {\n                    value: new Texture(),\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: gradientSubstractFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const pressure = new ShaderMaterial({\n            uniforms: {\n                uPressure: {\n                    value: new Texture(),\n                },\n                uDivergence: {\n                    value: new Texture(),\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: pressureFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const splat = new ShaderMaterial({\n            uniforms: {\n                uTarget: {\n                    value: new Texture(),\n                },\n                aspectRatio: {\n                    value: size.width / size.height,\n                },\n                uColor: {\n                    value: new Vector3(),\n                },\n                uPointer: {\n                    value: new Vector2(),\n                },\n                uRadius: {\n                    value: OPTS.radius / 100.0,\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: splatFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        const vorticity = new ShaderMaterial({\n            uniforms: {\n                uVelocity: {\n                    value: new Texture(),\n                },\n                uCurl: {\n                    value: new Texture(),\n                },\n                uCurlValue: {\n                    value: OPTS.curl,\n                },\n                dt: {\n                    value: 1 / OPTS.refreshRate,\n                },\n                texelSize: {\n                    value: new Vector2(),\n                },\n            },\n            fragmentShader: vorticityFrag,\n            vertexShader: baseVertex,\n            depthTest: false,\n            depthWrite: false,\n        });\n\n        return {\n            splat,\n            curl,\n            clear,\n            divergence,\n            pressure,\n            gradientSubstract,\n            advection,\n            vorticity,\n        };\n    }, [size]);\n\n    useEffect(() => {\n        for (const material of Object.values(shaderMaterials)) {\n            const aspectRatio = size.width / (size.height + 400);\n            material.uniforms.texelSize.value.set(1 / (OPTS.simRes * aspectRatio), 1 / OPTS.simRes);\n        }\n\n        return () => {\n            for (const material of Object.values(shaderMaterials)) {\n                material.dispose();\n            }\n        };\n    }, [shaderMaterials, size]);\n\n    return shaderMaterials;\n};\n","import { ThreeEvent, useThree } from '@react-three/fiber';\nimport { useCallback, useRef } from 'react';\nimport { Vector2 } from 'three';\n\ntype SplatStack = {\n    mouseX: number;\n    mouseY: number;\n    velocityX: number;\n    velocityY: number;\n};\n\nexport const usePointer = ({ force }: { force: number }) => {\n    const size = useThree((three) => three.size);\n\n    const splatStack: SplatStack[] = useRef([]).current;\n\n    const lastMouse = useRef<Vector2>(new Vector2());\n    const hasMoved = useRef<boolean>(false);\n\n    const onPointerMove = useCallback(\n        (event: ThreeEvent<PointerEvent>) => {\n            const deltaX = event.x - lastMouse.current.x;\n            const deltaY = event.y - lastMouse.current.y;\n\n            if (!hasMoved.current) {\n                hasMoved.current = true;\n                lastMouse.current.set(event.x, event.y);\n                return;\n            }\n\n            lastMouse.current.set(event.x, event.y);\n\n            splatStack.push({\n                mouseX: event.x / size.width,\n                mouseY: 1.0 - event.y / size.height,\n                velocityX: deltaX * force,\n                velocityY: -deltaY * force,\n            });\n        },\n        [force, size.height, size.width, splatStack],\n    );\n\n    return { onPointerMove, splatStack };\n};\n","import { createPortal, useFrame, useThree } from '@react-three/fiber';\nimport { BlendFunction } from 'postprocessing';\nimport { useCallback, useMemo, useRef } from 'react';\nimport { Camera, Color, Mesh, Scene, Texture, Vector2, Vector3 } from 'three';\nimport { ShaderPass } from 'three/examples/jsm/Addons.js';\nimport { OPTS } from './constant';\nimport { Effect as FluidEffect } from './effect/Fluid';\nimport { useFBOs } from './hooks/useFBOs';\nimport { useMaterials } from './hooks/useMaterials';\nimport { usePointer } from './hooks/usePointer';\nimport { Props } from './types';\nimport { normalizeScreenHz } from './utils';\n\ntype Uniforms = {\n    uColor: Vector3 | Color;\n    uPointer: Vector2;\n    uTarget: Texture | null;\n    uVelocity: Texture;\n    uCurl: Texture;\n    uTexture: Texture;\n    uPressure: Texture;\n    uDivergence: Texture;\n    uSource: Texture;\n    uRadius: number;\n    uClearValue: number;\n    uCurlValue: number;\n    uDissipation: number;\n};\n\nexport const Fluid = ({\n    blend = OPTS.blend,\n    force = OPTS.force,\n    radius = OPTS.radius,\n    curl = OPTS.curl,\n    swirl = OPTS.swirl,\n    intensity = OPTS.intensity,\n    distortion = OPTS.distortion,\n    fluidColor = OPTS.fluidColor,\n    backgroundColor = OPTS.backgroundColor,\n    showBackground = OPTS.showBackground,\n    rainbow = OPTS.rainbow,\n    pressure = OPTS.pressure,\n    densityDissipation = OPTS.densityDissipation,\n    velocityDissipation = OPTS.velocityDissipation,\n    blendFunction = BlendFunction.NORMAL,\n}: Props) => {\n    const size = useThree((three) => three.size);\n    const gl = useThree((three) => three.gl);\n    const camera = useThree((three) => three.camera);\n\n    const bufferScene = useMemo(() => new Scene(), []);\n    const bufferCamera = useMemo(() => new Camera(), []);\n\n    const meshRef = useRef<Mesh>(null);\n    const postRef = useRef<ShaderPass>(null);\n    const pointerRef = useRef(new Vector2());\n    const colorRef = useRef(new Vector3());\n\n    const FBOs = useFBOs();\n    const materials = useMaterials();\n    const { onPointerMove, splatStack } = usePointer({ force });\n\n    const setShaderMaterial = useCallback(\n        (name: keyof ReturnType<typeof useMaterials>) => {\n            if (!meshRef.current) return;\n\n            meshRef.current.material = materials[name];\n            meshRef.current.material.needsUpdate = true;\n        },\n        [materials],\n    );\n\n    const setRenderTarget = useCallback(\n        (name: keyof ReturnType<typeof useFBOs>) => {\n            const target = FBOs[name];\n\n            if ('write' in target) {\n                gl.setRenderTarget(target.write);\n                gl.clear();\n                gl.render(bufferScene, bufferCamera);\n                target.swap();\n            } else {\n                gl.setRenderTarget(target);\n                gl.clear();\n                gl.render(bufferScene, bufferCamera);\n            }\n        },\n        [bufferCamera, bufferScene, FBOs, gl],\n    );\n\n    const setUniforms = useCallback(\n        <K extends keyof Uniforms>(\n            material: keyof ReturnType<typeof useMaterials>,\n            uniform: K,\n            value: Uniforms[K],\n        ) => {\n            const mat = materials[material];\n\n            if (mat && mat.uniforms[uniform]) {\n                mat.uniforms[uniform].value = value;\n            }\n        },\n        [materials],\n    );\n\n    useFrame((_, delta) => {\n        if (!meshRef.current || !postRef.current) return;\n\n        // Make the mesh face the camera\n        meshRef.current.quaternion.copy(camera.quaternion);\n\n        for (let i = splatStack.length - 1; i >= 0; i--) {\n            const { mouseX, mouseY, velocityX, velocityY } = splatStack[i];\n\n            pointerRef.current.set(mouseX, mouseY);\n            colorRef.current.set(velocityX, velocityY, 10.0);\n\n            setShaderMaterial('splat');\n            setUniforms('splat', 'uTarget', FBOs.velocity.read.texture);\n            setUniforms('splat', 'uPointer', pointerRef.current);\n            setUniforms('splat', 'uColor', colorRef.current);\n            setUniforms('splat', 'uRadius', radius / 100.0);\n            setRenderTarget('velocity');\n            setUniforms('splat', 'uTarget', FBOs.density.read.texture);\n            setRenderTarget('density');\n\n            splatStack.pop();\n        }\n\n        setShaderMaterial('curl');\n        setUniforms('curl', 'uVelocity', FBOs.velocity.read.texture);\n        setRenderTarget('curl');\n\n        setShaderMaterial('vorticity');\n        setUniforms('vorticity', 'uVelocity', FBOs.velocity.read.texture);\n        setUniforms('vorticity', 'uCurl', FBOs.curl.texture);\n        setUniforms('vorticity', 'uCurlValue', curl);\n        setRenderTarget('velocity');\n\n        setShaderMaterial('divergence');\n        setUniforms('divergence', 'uVelocity', FBOs.velocity.read.texture);\n        setRenderTarget('divergence');\n\n        setShaderMaterial('clear');\n        setUniforms('clear', 'uTexture', FBOs.pressure.read.texture);\n        setUniforms('clear', 'uClearValue', normalizeScreenHz(pressure, delta));\n        setRenderTarget('pressure');\n\n        setShaderMaterial('pressure');\n        setUniforms('pressure', 'uDivergence', FBOs.divergence.texture);\n\n        for (let i = 0; i < swirl; i++) {\n            setUniforms('pressure', 'uPressure', FBOs.pressure.read.texture);\n            setRenderTarget('pressure');\n        }\n\n        setShaderMaterial('gradientSubstract');\n        setUniforms('gradientSubstract', 'uPressure', FBOs.pressure.read.texture);\n        setUniforms('gradientSubstract', 'uVelocity', FBOs.velocity.read.texture);\n        setRenderTarget('velocity');\n\n        setShaderMaterial('advection');\n        setUniforms('advection', 'uVelocity', FBOs.velocity.read.texture);\n        setUniforms('advection', 'uSource', FBOs.velocity.read.texture);\n        setUniforms('advection', 'uDissipation', normalizeScreenHz(velocityDissipation, delta));\n\n        setRenderTarget('velocity');\n        setUniforms('advection', 'uVelocity', FBOs.velocity.read.texture);\n        setUniforms('advection', 'uSource', FBOs.density.read.texture);\n        setUniforms('advection', 'uDissipation', normalizeScreenHz(densityDissipation, delta));\n\n        setRenderTarget('density');\n    });\n\n    return (\n        <>\n            {createPortal(\n                <mesh\n                    ref={meshRef}\n                    onPointerMove={onPointerMove}\n                    scale={[size.width, size.height, 1]}>\n                    <planeGeometry args={[2, 2, 10, 10]} />\n                </mesh>,\n                bufferScene,\n            )}\n\n            <FluidEffect\n                blendFunction={blendFunction}\n                intensity={intensity}\n                rainbow={rainbow}\n                distortion={distortion}\n                backgroundColor={backgroundColor}\n                blend={blend}\n                fluidColor={fluidColor}\n                showBackground={showBackground}\n                ref={postRef}\n                tFluid={FBOs.density.read.texture}\n            />\n        </>\n    );\n};\n","import { useControls, button } from 'leva';\nimport { OPTS } from '../constant';\n\nexport const useConfig = () => {\n    const handleReset = () => {\n        return set(\n            Object.fromEntries(\n                Object.keys(params).map((key) => {\n                    return [key, OPTS[key as keyof typeof OPTS]];\n                }),\n            ),\n        );\n    };\n\n    const [params, set] = useControls('Settings', () => ({\n        intensity: {\n            value: OPTS.intensity,\n            min: 0.0,\n            max: 10,\n            step: 0.01,\n            label: 'intensity',\n        },\n\n        force: {\n            value: OPTS.force,\n            min: 0,\n            max: 20,\n            step: 0.1,\n            label: 'force',\n        },\n\n        distortion: {\n            value: OPTS.distortion,\n            min: 0,\n            max: 2,\n            step: 0.01,\n            label: 'distortion',\n        },\n\n        curl: {\n            value: OPTS.curl,\n            min: 0,\n            max: 50,\n            step: 0.1,\n            label: 'curl',\n        },\n\n        swirl: {\n            value: OPTS.swirl,\n            min: 0,\n            max: 20,\n            step: 1,\n            label: 'swirl',\n        },\n\n        fluidColor: {\n            value: OPTS.fluidColor,\n            label: 'fluid color',\n        },\n\n        backgroundColor: {\n            value: OPTS.backgroundColor,\n            label: 'background color',\n        },\n\n        blend: {\n            value: OPTS.blend,\n            min: 0.0,\n            max: 10,\n            step: 0.01,\n            label: 'blend',\n        },\n\n        showBackground: {\n            value: OPTS.showBackground,\n            label: 'show background',\n        },\n\n        rainbow: {\n            value: OPTS.rainbow,\n            label: 'rainbow mode',\n        },\n\n        pressure: {\n            value: OPTS.pressure,\n            min: 0,\n            max: 1,\n            step: 0.01,\n            label: 'pressure reduction',\n        },\n\n        densityDissipation: {\n            value: OPTS.densityDissipation,\n            min: 0,\n            max: 1,\n            step: 0.01,\n            label: 'density dissipation',\n        },\n\n        velocityDissipation: {\n            value: OPTS.velocityDissipation,\n            min: 0,\n            max: 1,\n            step: 0.01,\n            label: 'velocity dissipation',\n        },\n\n        radius: {\n            value: OPTS.radius,\n            min: 0.01,\n            max: 1,\n            step: 0.01,\n            label: 'radius',\n        },\n        'reset settings': button(handleReset),\n    }));\n\n    return params;\n};\n"],"names":["REACT_ELEMENT_TYPE","REACT_FRAGMENT_TYPE","jsxProd","type","config","maybeKey","key","propName","reactJsxRuntime_production","getComponentNameFromType","REACT_CLIENT_REFERENCE","REACT_PROFILER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_ACTIVITY_TYPE","REACT_PORTAL_TYPE","REACT_CONTEXT_TYPE","REACT_CONSUMER_TYPE","REACT_FORWARD_REF_TYPE","innerType","REACT_MEMO_TYPE","REACT_LAZY_TYPE","testStringCoercion","value","checkKeyStringCoercion","JSCompiler_inline_result","JSCompiler_temp_const","JSCompiler_inline_result$jscomp$0","getTaskName","name","getOwner","dispatcher","ReactSharedInternals","UnknownOwner","hasValidKey","hasOwnProperty","getter","defineKeyPropWarningGetter","props","displayName","warnAboutAccessingKey","specialPropKeyWarningShown","elementRefGetterWithDeprecationWarning","componentName","didWarnAboutElementRef","ReactElement","self","source","owner","debugStack","debugTask","jsxDEVImpl","isStaticChildren","children","isArrayImpl","validateChildKeys","keys","k","didWarnAboutKeySpread","node","React","require$$0","createTask","callStackForError","unknownOwnerDebugStack","unknownOwnerDebugTask","reactJsxRuntime_development","trackActualOwner","jsxRuntimeModule","require$$1","OPTS","hexToRgb","hex","color","Color","Vector3","normalizeScreenHz","dt","composite_default","FluidEffect","Effect","uniforms","Uniform","compositeFrag","__publicField","uniform","forwardRef","ref","effect","useMemo","useEffect","_a","useDoubleFBO","width","height","options","read","useFBO","write","fbo","useRef","temp","useFBOs","density","THREE","velocity","pressure","divergence","curl","FBOs","FBO","base_default","clear_default","curl_default","divergence_default","gradientSubstract_default","pressure_default","splat_default","advection_default","vorticity_default","useMaterials","size","useThree","s","shaderMaterials","advection","ShaderMaterial","Texture","Vector2","advectionFrag","baseVertex","clear","clearFrag","curlFrag","divergenceFrag","gradientSubstract","gradientSubstractFrag","pressureFrag","splat","splatFrag","vorticity","vorticityFrag","material","aspectRatio","usePointer","force","three","splatStack","lastMouse","hasMoved","useCallback","event","deltaX","deltaY","Fluid","blend","radius","swirl","intensity","distortion","fluidColor","backgroundColor","showBackground","rainbow","densityDissipation","velocityDissipation","blendFunction","BlendFunction","gl","camera","bufferScene","Scene","bufferCamera","Camera","meshRef","postRef","pointerRef","colorRef","materials","onPointerMove","setShaderMaterial","setRenderTarget","target","setUniforms","mat","useFrame","_","delta","i","mouseX","mouseY","velocityX","velocityY","jsxs","Fragment","createPortal","jsx","useConfig","handleReset","set","params","useControls","button"],"mappings":"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","x_google_ignoreList":[0,1,2]}